---
layout: post
title:  "2020牛客暑期多校训练营（第四场） 题解"
date:   2020-7-19 23:20:14
categories: nowcoder 题解
tags: 多校 牛客 
---

* content
{:toc}

牛客多校，第四场。



---

> 若有公式图片无法正常显示，请使用梯子访问！


## B - Basic Gcd Problem


* 题意:  
定义函数如下：  
<img src="https://www.nowcoder.com/equation?tex=%5Cbegin%7Balign%7D%0Af_c(x)%26%3D%5Cmax_%7Bi%3D1%20%5Cdots%20x-1%7D%20c%20%5Ccdot%20f_c(%5Cgcd(i%2C%20x))%20%26%20x%20%3E%201%5C%5C%0Af_c(x)%26%3D1%20%26%20x%3D1%0A%5Cend%7Balign%7D">  

给出<img src="https://latex.codecogs.com/svg.latex?(n_i,c_i)">,求<img src="https://latex.codecogs.com/svg.latex?f_c_i(n_i)\pmod{10^9+7}">.


* 思路:  
*这个题虽然过了 但是源代码写的很垃圾，结束后发现能优化不少呢*
(本题题解思路源自我同学的blog，写的很好！见![LDH的blog](https://blog.csdn.net/NGUP_LEE/article/details/107498007))  
首先分析下这个公式，大概就是一个 ci乘一个会迭代的函数 ，直到迭代到 x=1 时结束。迭代过程如下：  
<img src="https://img-blog.csdnimg.cn/20200721203538600.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L05HVVBfTEVF,size_16,color_FFFFFF,t_70">  

观察发现每次迭代都会乘上ci的值，所以迭代n次就有n个ci相乘，也就是c的n次方，那么就是求解迭代次数即可。

```c++

//原文链接：https://blog.csdn.net/NGUP_LEE/article/details/107498007

const int mod = 1e9 + 7;
#define ll long long
ll qpow(ll x,ll y,ll mod)
{
    ll res=1;
    while(y)
    {
        if(y&1)     res=(res*x)%mod;
        x=(x*x)%mod;
        y>>=1;
    }
    return (res+mod)%mod;
}
int main()
{
    ios_base::sync_with_stdio(false);
    cin.tie(0);cout.tie(0);
   int t;
   cin>>t; 
   while(t--)
    {
        int cnt=0;
        int n,c;
        cin>>n>>c;
        for(int i=2;i*i<=n;i++)
        {
            while (n%i==0)
            {
                cnt++;
                n/=i;
            } 
        }
        if(n>1) cnt++;
        ll ans=qpow(c,cnt,mod);
        cout<<ans<<"\n"; 
    }
    return 0;  
}

```

---
